(()=>{"use strict";var n,e=null;function t(){var n=document.getElementById("tablerosContainer");fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n      query {\n        panels {\n          id\n          titulo\n          descripcion\n          usuario\n        }\n      }\n    "})}).then((function(n){return n.json()})).then((function(t){var r=t.data.panels;localStorage.setItem("tableros",r),n.innerHTML="",r.forEach((function(t){var r=document.createElement("div");r.classList.add("col-md-4","mb-4"),r.innerHTML='\n          <div class="card shadow-sm">\n            <div class="card-body">\n              <h5 class="card-title">'.concat(t.titulo,'</h5>\n              <p class="card-text">').concat(t.descripcion,'</p>\n              <p class="card-text"><small class="text-muted">Creado por: ').concat(t.usuario,'</small></p>\n              <button class="btn btn-primary">Abrir Tablero</button>\n              <button class="btn btn-danger">Eliminar</button>\n            </div>\n          </div>'),r.getElementsByClassName("btn-primary")[0].addEventListener("click",(function(){var n;n=t.id,window.location.href="tareas.html?tablero=".concat(n)})),r.getElementsByClassName("btn-danger")[0].addEventListener("click",(function(){var n;n=t.id,e=n,new bootstrap.Modal(document.getElementById("modalConfirmarEliminarTablero")).show()})),n.appendChild(r)}))})).catch((function(n){return console.error("Error cargando tableros:",n)}))}null===(n=document.getElementById("botonConfirmarEliminarTablero"))||void 0===n||n.addEventListener("click",(function(){if(null!==e){var n={id:e};fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n          mutation DeletePanel($id: ID!) {\n            deletePanel(id: $id)\n          }\n        ",variables:n})}).then((function(n){return n.json()})).then((function(n){n.errors?console.error("Error al eliminar tablero:",n.errors):(console.log("Tablero eliminado:",n),t(),e=null,bootstrap.Modal.getInstance(document.getElementById("modalConfirmarEliminarTablero")).hide())})).catch((function(n){return console.error("Error en la solicitud:",n)}))}})),document.addEventListener("DOMContentLoaded",t)})();
//# sourceMappingURL=main.bundle.js.map